<div class="search-box">
  <label>
    <span>搜尋檔案標籤</span>
    <input type="text" [(ngModel)]="keyword" (ngModelChange)="onKeywordChange()" pInputText>
  </label>
</div>

<div class="file-table">
  <p-table [value]="filtedSoundList" [paginator]="true" [rows]="10">
    <ng-template pTemplate="header">
      <tr>
        <th [style.width]="'240px'">檔名</th>
        <th [style.width]="'136px'" [pSortableColumn]="'server_modified'">
          <span>最後修改時間</span>
          <p-sortIcon [field]="'server_modified'"></p-sortIcon>
        </th>
        <th>標籤</th>
        <th [style.width]="'88px'">下載</th>
        <th [style.width]="'240px'">音源預覽</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-sound>
      <tr>
        <td>{{sound.name}}</td>
        <td>{{showDatetime(sound.modifyDatetime) | slice:0:10}}</td>
        <td>
          <!-- <p-chips [(ngModel)]="sound.tagsClouds" (onAdd)="onTagsAdd($event, sound)" (onRemove)="onTagsRemove($event, sound)"></p-chips> -->
          <app-tag-autocomplete [(ngModel)]="sound.tagsClouds" [suggestions]="filtedTagList" (completeMethod)="filterTag($event)" placeholder="tag" [multiple]="true" (onSelect)="onTagsAdd($event, sound)" (onUnselect)="onTagsRemove($event, sound)" [disabled]="false">
          </app-tag-autocomplete>
        </td>
        <td>
          <button (click)="onDownloadClick(sound.url)" type="button" pButton label="下載"></button>
        </td>
        <td>TBD</td>
      </tr>
    </ng-template>
  </p-table>
</div>

<div id="waveform"></div>
